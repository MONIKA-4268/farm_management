<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>Register - FarmPortal</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
  <div class="container" style="max-width:400px; margin-top:60px;">
    <h3 id="register-title" class="text-center mb-4"></h3>
    <form id="register-form">
      <div class="form-group">
        <input type="text" id="username" class="form-control" required/>
      </div>
      <div class="form-group">
        <input type="password" id="password" class="form-control" required/>
      </div>
      <div class="form-group">
        <select id="role" class="form-control">
          <option value="farmer">Farmer</option>
          <option value="admin">Admin</option>
        </select>
      </div>
      <button type="submit" class="btn btn-success btn-block"></button>
      <p id="register-message" class="mt-3"></p>
    </form>
    <div class="text-center mt-2"><a href="index.html" id="back-login"></a></div>
  </div>
  <script>
    // Simple language dictionary including role translations
    const lang = localStorage.getItem('language') || 'en';
    const dict = {
      en: {
        registerTitle: 'Register Your Account',
        username: 'Username',
        password: 'Password',
        registerBtn: 'Register',
        backLogin: 'Already Registered? Login',
        roles: {
          farmer: 'Farmer',
          admin: 'Admin'
        }
      },
      ta: {
        registerTitle: '[உங்கள் கணக்கை பதிவு செய்யவும்]',
        username: '[பயனர் பெயர்]',
        password: '[கடவுச்சொல்]',
        registerBtn: '[பதிவு செய்யவும்]',
        backLogin: '[ஏற்கனவே பதிவு செய்தீர்களா? உள்நுழைக]',
        roles: {
          farmer: '[உழவர்]',
          admin: '[நிர்வாகி]'
        }
      }
    };

    // Update static labels and placeholders
    document.getElementById('register-title').textContent = dict[lang].registerTitle;
    document.getElementById('username').placeholder = dict[lang].username;
    document.getElementById('password').placeholder = dict[lang].password;
    document.querySelector('#register-form button').textContent = dict[lang].registerBtn;
    document.getElementById('back-login').textContent = dict[lang].backLogin;

    // Update role dropdown option texts
    const roleSelect = document.getElementById('role');
    roleSelect.options[0].text = dict[lang].roles.farmer;
    roleSelect.options[1].text = dict[lang].roles.admin;

    // Registration logic placeholder
    document.getElementById('register-form').onsubmit = async function(e) {
      e.preventDefault();
      // Implement fetch API call to backend registration here
      // Show success or error message in #register-message
      // On success, redirect to login.html
    };
  </script>
</body>
</html>
